{% load bootstrap4 %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geek Chat</title>
   {% bootstrap_css %}
</head>
<body>
    <div class="containner">
        Qual sala de Chat você gostaria de entrar?<br/>
        <input type="text" id="nome_sala" name="nome_sala" size="100" placeholder="Nome da Sala..."><br/>

        {% buttons %}
            <input type="button" value="Entrar" id="botao" class="btn btn-primary">
        {% endbuttons %}
    </div>

    <script>
        document.querySelector('#nome_sala').focus()
        document.querySelector('#nome_sala').onkeyup = function(e){
            if(e.keyCode === 13){
                document.querySelector('#botao').click()
            }
        }
        document.querySelector('#botao').onclick = function(e){
            var nome_sala = document.querySelector('#nome_sala').value;
            if(nome_sala != ""){
                window.location.pathname = '/chat/' + nome_sala + '/'

            }else{
                alert('Você precisa informar o nome da sala.')
                document.querySelector('#nome_sala').focus()
            }
        }
    </script>

    {% bootstrap_javascript jquery='full' %}
</body>
</html>